*** Makefile.linux_a	2019-11-02 17:20:00.019902507 +0100
--- Makefile.linux_b	2019-10-12 15:30:34.379976093 +0200
***************
*** 1,4 ****
! # $Id: Makefile.linux,v 1.101 2019/09/01 22:59:13 nanard Exp $
  # MiniUPnP project
  # (c) 2006-2019 Thomas Bernard
  # http://miniupnp.free.fr/ or http://miniupnp.tuxfamily.org/
--- 1,4 ----
! # $Id: Makefile.linux,v 1.102 2019/09/24 10:30:43 nanard Exp $
  # MiniUPnP project
  # (c) 2006-2019 Thomas Bernard
  # http://miniupnp.free.fr/ or http://miniupnp.tuxfamily.org/
***************
*** 39,44 ****
--- 39,45 ----
  STRIP ?= strip
  PKG_CONFIG ?= pkg-config
  CP = cp
+ DOXYGEN ?= doxygen
  
  
  INSTALLPREFIX ?= $(PREFIX)/usr
***************
*** 166,172 ****
  
  TEST := $(shell $(PKG_CONFIG) --exists uuid && echo 1)
  ifeq ($(TEST),1)
! LDLIBS += $(shell $(PKG_CONFIG) --static --libs-only-l uuid)
  else
  $(info please install uuid-dev package / libuuid)
  endif # ($(TEST),1)
--- 167,173 ----
  
  TEST := $(shell $(PKG_CONFIG) --exists uuid && echo 1)
  ifeq ($(TEST),1)
! # LDLIBS += $(shell $(PKG_CONFIG) --static --libs-only-l uuid)
  else
  $(info please install uuid-dev package / libuuid)
  endif # ($(TEST),1)
***************
*** 187,193 ****
                testgetroute testasyncsendto testportinuse \
                testssdppktgen testminissdp
  
! .PHONY:	all clean install depend genuuid
  
  all:	$(EXECUTABLES)
  
--- 188,194 ----
                testgetroute testasyncsendto testportinuse \
                testssdppktgen testminissdp
  
! .PHONY:	all clean install depend genuuid dox
  
  all:	$(EXECUTABLES)
  
***************
*** 202,207 ****
--- 203,209 ----
  	$(RM) testssdppktgen.o
  	$(RM) miniupnpdctl.o
  	$(RM) validateupnppermissions validategetifaddr validatessdppktgen
+ 	$(RM) -r dox/
  
  install:	miniupnpd miniupnpd.8 miniupnpd.conf genuuid \
  	netfilter/iptables_init.sh netfilter/iptables_removeall.sh \
***************
*** 284,289 ****
--- 286,294 ----
  	testgetroute.c testasyncsendto.c testportinuse.c \
  	miniupnpdctl.c testssdppktgen.c 2>/dev/null
  
+ dox:	miniupnpd.doxyconf
+ 	$(DOXYGEN) $<
+ 
  # DO NOT DELETE
  
  miniupnpd.o: config.h macros.h upnpglobalvars.h upnppermissions.h
